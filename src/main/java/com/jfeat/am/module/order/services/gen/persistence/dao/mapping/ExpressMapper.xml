<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jfeat.am.module.order.services.gen.persistence.dao.ExpressMapper">

	<!-- 通用查询映射结果 -->
	<resultMap id="BaseResultMap" type="com.jfeat.am.module.order.services.gen.persistence.model.Express">
		<id column="id" property="id" />
		<result column="code" property="code" />
		<result column="name" property="name" />
		<result column="enabled" property="enabled" />
		<result column="is_default" property="isDefault" />
		<result column="org_id" property="orgId" />
	</resultMap>

    <!-- 通用查询结果列 -->
    <sql id="Base_Column_List">
        id, code, name, enabled, is_default AS isDefault,org_id AS orgId
    </sql>

	<insert id="createOrderExpress">
		INSERT INTO `t_order_express` ( `order_id`, `mid`, `create_date`, `express_company`, `express_code`, `express_number`, `order_items`) VALUES
		 ( #{orderExpress.orderId},
		  #{orderExpress.mid},
		  #{orderExpress.createDate},
		  #{orderExpress.expressCompany},
		  #{orderExpress.expressCode},
		  #{orderExpress.expressNumber},
		  #{orderExpress.orderItems});

	</insert>

	<select id="getOrderExpressByOrderId" resultType="com.jfeat.am.module.order.services.domain.model.OrderExpress">
		select * from t_order_express where order_id = #{orderId}
		ORDER BY create_date desc
		LIMIT 0,1
	</select>

	<select id="getExpressCompany" resultType="String">
		select `name` from t_express where code = #{Code};
	</select>

</mapper>
