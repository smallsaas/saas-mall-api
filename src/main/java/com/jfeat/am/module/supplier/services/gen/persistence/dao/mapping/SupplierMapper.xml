<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jfeat.am.module.supplier.services.gen.persistence.dao.SupplierMapper">

    <!-- 通用查询映射结果 -->
    <resultMap id="BaseResultMap" type="com.jfeat.am.module.supplier.services.gen.persistence.model.Supplier">
        <id column="id" property="id" />
        <result column="name" property="name" />
        <result column="note" property="note" />
        <result column="type" property="type" />
        <result column="url" property="url" />
        <result column="address" property="address" />
        <result column="org_id" property="orgId" />
    </resultMap>

    <!-- 通用查询结果列 -->
    <sql id="Base_Column_List">
        t_supplier
        .
        id
        , t_supplier.name, t_supplier.note, t_supplier.type, t_supplier.url, t_supplier.address, t_supplier.org_id AS orgId
        , t_supplier.phone as phone
        , t_supplier.user_id as userId
        , t_supplier.end_user_id as endUserId
        , t_supplier.link as link
        , t_supplier.snapshot as snapshot
        , t_supplier.bind_key as bindKey
        , t_supplier.bind_type as bindType
        , t_supplier.bind_user_id as bindUserId
        , t_supplier.vr_id as vrId
    </sql>

    <select id="getOne" resultType="com.jfeat.am.module.supplier.services.domain.model.SupplierModel">
        select <include refid="Base_Column_List"/>
        ,sysUser.account as account
        ,endUser.name as endUserName
        from t_supplier
        left join t_sys_user sysUser on sysUser.id = t_supplier.user_id
        left join t_end_user endUser on endUser.id = t_supplier.end_user_id
        where t_supplier.id = #{id}

    </select>

</mapper>
